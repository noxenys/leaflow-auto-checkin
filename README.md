# Leaflow è‡ªåŠ¨ç­¾åˆ°è„šæœ¬

è¿™æ˜¯ä¸€ä¸ªç”¨äºåœ¨ [Leaflow](https://leaflow.net/) ç½‘ç«™ä¸Šè‡ªåŠ¨æ‰§è¡Œæ¯æ—¥ç­¾åˆ°çš„ Python è„šæœ¬ã€‚æ”¯æŒ GitHub Actions è‡ªåŠ¨è¿è¡Œå’Œæœ¬åœ°è¿è¡Œã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **å¤šè´¦å·æ”¯æŒ**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡è½»æ¾ç®¡ç†å¤šä¸ª Leaflow è´¦å·ã€‚
- **è‡ªåŠ¨ç­¾åˆ°**ï¼šæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œï¼Œè‡ªåŠ¨å®Œæˆæ¯æ—¥ç­¾åˆ°ï¼Œèµšå–å¥–åŠ±ã€‚
- **ä½™é¢æŸ¥è¯¢**ï¼šè‡ªåŠ¨è·å–å¹¶æ˜¾ç¤ºæ¯ä¸ªè´¦å·çš„å½“å‰ä½™é¢ã€‚
- **Telegram é€šçŸ¥**ï¼šé€šè¿‡ Telegram Bot å‘é€ç­¾åˆ°ç»“æœé€šçŸ¥ã€‚
- **GitHub Actions é›†æˆ**ï¼šæ”¯æŒé€šè¿‡ GitHub Actions å®ç°æ¯æ—¥å®šæ—¶è‡ªåŠ¨ç­¾åˆ°ã€‚
- **é˜²æ£€æµ‹æœºåˆ¶**ï¼šä½¿ç”¨æ–°ç‰ˆæ— å¤´æ¨¡å¼å’Œè‡ªå®šä¹‰ User-Agentï¼Œæœ‰æ•ˆç»•è¿‡ç½‘ç«™æ£€æµ‹ã€‚
- **ç¨³å¥è¿è¡Œ**ï¼šå†…ç½®é‡è¯•æœºåˆ¶ã€è¶…æ—¶å¤„ç†å’Œé”™è¯¯æ¢å¤ï¼Œç¡®ä¿ç­¾åˆ°æˆåŠŸç‡ã€‚

## ç­¾åˆ°å…¥å£å˜æ›´è¯´æ˜

- ç”±äºå®˜æ–¹è·¯ç”±è°ƒæ•´ï¼ŒåŸ `https://checkin.leaflow.net` åœ¨éƒ¨åˆ†åœ°åŒºå¯èƒ½è¶…æ—¶ã€‚
- å½“å‰ç­¾åˆ°å…¥å£ä½äºä¸»ç«™å·¥ä½œç©ºé—´é¡µé¢ï¼š`https://leaflow.net/workspaces`ï¼Œç‚¹å‡»â€œç­¾åˆ°è¯•ç”¨â€å¼¹çª—åå†ç‚¹â€œç«‹å³ç­¾åˆ°â€ã€‚
- è„šæœ¬å·²æ”¯æŒä»å·¥ä½œç©ºé—´å¼¹çª—ç­¾åˆ°ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰ç­¾åˆ°å…¥å£ï¼š
  - `LEAFLOW_CHECKIN_URL`ï¼šå•ä¸ª URLã€‚
  - `LEAFLOW_CHECKIN_URLS`ï¼šå¤šä¸ª URLï¼ˆé€—å·åˆ†éš”ï¼ŒæŒ‰é¡ºåºå°è¯•ï¼‰ã€‚
- è‹¥è®¿é—®ä¸ç¨³å®šï¼Œå»ºè®®å°†ä¸»ç«™å…¥å£æ”¾åœ¨ `LEAFLOW_CHECKIN_URLS` çš„ç¬¬ä¸€ä½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ (GitHub Actions)

æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ GitHub Actions è¿›è¡Œæ¯æ—¥è‡ªåŠ¨ç­¾åˆ°ï¼Œæ— éœ€æœ¬åœ°ç¯å¢ƒã€‚

### 1. Fork æœ¬ä»“åº“

ç‚¹å‡»æœ¬é¡µé¢å³ä¸Šè§’çš„ **Fork** æŒ‰é’®ï¼Œå°†æ­¤ä»“åº“å¤åˆ¶åˆ°ä½ è‡ªå·±çš„ GitHub è´¦å·ä¸‹ã€‚

### 2. è®¾ç½® Secrets

åœ¨ä½  Fork çš„ä»“åº“é¡µé¢ï¼Œç‚¹å‡» **Settings** -> **Secrets and variables** -> **Actions**ï¼Œç„¶åç‚¹å‡» **New repository secret** æ·»åŠ ä»¥ä¸‹å¯†é’¥ï¼š

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|--------|
| `LEAFLOW_ACCOUNTS` | è´¦å·åˆ—è¡¨ï¼ˆé‚®ç®±:å¯†ç ï¼‰ï¼Œå¤šè´¦å·ç”¨è‹±æ–‡é€—å·åˆ†éš” | `test1@gmail.com:pass1,test2@gmail.com:pass2` |
| `LEAFLOW_EMAIL` | å•è´¦å·é‚®ç®±ï¼ˆå¯é€‰ï¼Œä¼˜å…ˆçº§ä½äº ACCOUNTSï¼‰ | `test@gmail.com` |
| `LEAFLOW_PASSWORD` | å•è´¦å·å¯†ç ï¼ˆå¯é€‰ï¼‰ | `password123` |
| `LEAFLOW_COOKIE` | ï¼ˆ**æ¨è**ï¼‰ç›´æ¥ä½¿ç”¨ Cookie ç™»å½•ï¼Œè·³è¿‡è´¦å·å¯†ç ç™»å½• | `remember_web_xxx=...; session=...` |
| `LEAFLOW_CHECKIN_URL` | è‡ªå®šä¹‰ç­¾åˆ°åœ°å€ï¼ˆå¯é€‰ï¼‰ | `https://checkin.leaflow.net` |
| `LEAFLOW_CHECKIN_URLS` | å¤šä¸ªç­¾åˆ°åœ°å€ï¼Œç”¨é€—å·åˆ†éš”ï¼ˆå¯é€‰ï¼‰ | `https://checkin.leaflow.net,https://...` |
| `TELEGRAM_BOT_TOKEN` | Telegram Bot Tokenï¼ˆå¯é€‰ï¼‰ | `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11` |
| `TELEGRAM_CHAT_ID` | Telegram Chat IDï¼ˆå¯é€‰ï¼‰ | `123456789` |

### ğŸš€ 2026/02 ä¼˜åŒ–æ›´æ–°
é’ˆå¯¹ Leaflow è¿‘æœŸè®¿é—®ä¸ç¨³å®šçš„é—®é¢˜ï¼Œè„šæœ¬è¿›è¡Œäº†ä»¥ä¸‹ä¼˜åŒ–ï¼š
1. **Cookie ç™»å½•æ”¯æŒ**ï¼šæ¨èä½¿ç”¨ `LEAFLOW_COOKIE` ç¯å¢ƒå˜é‡ï¼Œç›´æ¥è·³è¿‡ç™»å½•æ­¥éª¤ï¼Œè§„é¿ç™»å½•é¡µé¢çš„éªŒè¯ç å’ŒåŠ è½½å¡é¡¿ã€‚
2. **åŠ é€ŸåŠ è½½**ï¼šè‡ªåŠ¨å±è”½ reCAPTCHAã€Google Fonts ç­‰éæ ¸å¿ƒèµ„æºï¼Œæ˜¾è‘—æå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚
3. **å·¥ä½œç©ºé—´å¼¹çª—ç­¾åˆ°**ï¼šä¼˜å…ˆå°è¯•åœ¨ä¸»ç«™å·¥ä½œç©ºé—´ï¼ˆworkspacesï¼‰é¡µé¢é€šè¿‡å¼¹çª—ç­¾åˆ°ï¼ŒæˆåŠŸç‡æ›´é«˜ã€‚
4. **æ™ºèƒ½é‡è¯•**ï¼šå¢å¼ºäº†è¶…æ—¶å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼Œé€‚åº”ä¸ç¨³å®šçš„ç½‘ç»œç¯å¢ƒã€‚

### 3. å¯ç”¨ GitHub Actions

åœ¨ä½  Fork çš„ä»“åº“é¡µé¢ï¼Œç‚¹å‡» **Actions** é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡» **I understand my workflows, go ahead and enable them** å¯ç”¨å·¥ä½œæµã€‚

### 4. è¿è¡Œæµ‹è¯•

1.  åœ¨ **Actions** é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„ **Leaflow Auto Checkin** å·¥ä½œæµã€‚
2.  ç‚¹å‡»å³ä¾§çš„ **Run workflow** ä¸‹æ‹‰èœå•ï¼Œç‚¹å‡»ç»¿è‰²çš„ **Run workflow** æŒ‰é’®ã€‚
3.  ç­‰å¾…è¿è¡Œå®Œæˆï¼ŒæŸ¥çœ‹æ—¥å¿—ç¡®è®¤æ˜¯å¦ç­¾åˆ°æˆåŠŸã€‚

æ­¤åï¼Œè„šæœ¬å°†åœ¨æ¯å¤© UTC æ—¶é—´ 01:15ï¼ˆåŒ—äº¬æ—¶é—´ 09:15ï¼‰è‡ªåŠ¨è¿è¡Œã€‚

## è´¦å·é…ç½®ï¼ˆå•/å¤šè´¦å·ï¼‰

æ”¯æŒä¸¤ç§é…ç½®æ–¹å¼ï¼š

**å¤šè´¦å·ï¼ˆæ¨èï¼‰**
- ä½¿ç”¨ `LEAFLOW_ACCOUNTS`ï¼Œæ ¼å¼ï¼š`é‚®ç®±1:å¯†ç 1,é‚®ç®±2:å¯†ç 2`

**å•è´¦å·**
- ä½¿ç”¨ `LEAFLOW_EMAIL` + `LEAFLOW_PASSWORD`

è¯´æ˜ï¼šä¸¤ç§æ–¹å¼ä»»é€‰å…¶ä¸€å³å¯ï¼Œä¼˜å…ˆä½¿ç”¨ `LEAFLOW_ACCOUNTS`ã€‚

## Fork åå¦‚ä½•æ›´æ–°

å¦‚æœä½ å·²ç» Fork è¿‡æœ¬ä»“åº“ï¼Œæ¨èä¸¤ç§æ–¹å¼åŒæ­¥æ›´æ–°ï¼š

**æ–¹å¼ä¸€ï¼šGitHub ç½‘é¡µä¸€é”®åŒæ­¥**
1. æ‰“å¼€ä½ è‡ªå·±çš„ Fork ä»“åº“ä¸»é¡µ
2. ç‚¹å‡» "Sync fork" -> "Update branch"
3. ç­‰å¾…åŒæ­¥å®Œæˆ

**æ–¹å¼äºŒï¼šæœ¬åœ°å‘½ä»¤è¡ŒåŒæ­¥**
```bash
git remote add upstream https://github.com/<åŸä½œè€…>/<ä»“åº“å>.git
git fetch upstream
git checkout main
git merge upstream/main
git push origin main
```
å¦‚ä½ çš„é»˜è®¤åˆ†æ”¯æ˜¯ masterï¼Œè¯·æŠŠ main æ›¿æ¢ä¸º masterã€‚
å¦‚æœå‡ºç°å†²çªï¼Œè¯·æŒ‰æç¤ºè§£å†³åå†æ¨é€ã€‚

## ğŸ’» æœ¬åœ°è¿è¡ŒæŒ‡å—

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œæˆ–è°ƒè¯•è„šæœ¬ï¼š

### å‰ç½®è¦æ±‚
- Python 3.8+
- Chrome æµè§ˆå™¨

### æ­¥éª¤

1.  **å…‹éš†ä»“åº“**
    ```bash
    git clone https://github.com/your-username/leaflow-auto-checkin.git
    cd leaflow-auto-checkin
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    pip install -r requirements.txt
    ```

3.  **è®¾ç½®ç¯å¢ƒå˜é‡å¹¶è¿è¡Œ**

    **Windows (PowerShell):**
    ```powershell
    $env:LEAFLOW_ACCOUNTS="email@example.com:password"
    python leaflow_checkin.py
    ```

    **Linux / macOS:**
    ```bash
    export LEAFLOW_ACCOUNTS="email@example.com:password"
    python leaflow_checkin.py
    ```
